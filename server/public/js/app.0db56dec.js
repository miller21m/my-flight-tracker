(function(t){function e(e){for(var n,i,c=e[0],s=e[1],l=e[2],p=0,d=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==o[s]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},o={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"04a1":function(t,e,a){},"0639":function(t,e,a){},"07cb":function(t,e,a){"use strict";a("0639")},"113b":function(t,e,a){},"116b":function(t,e){var a="pk.eyJ1IjoibWlsbGVyMjEiLCJhIjoiY2tnZG56cWx6MGtxcjJxbzdkcHBwYXJwZiJ9.JmTuQgnwF_eqRexjWn32kw";t.exports=a},"297d":function(t,e,a){"use strict";a("c56e")},"2c27":function(t,e,a){"use strict";a("89a9")},"2d6c":function(t,e,a){"use strict";a("d5cc")},"2ecc":function(t,e,a){},"36cb":function(t,e,a){"use strict";a("113b")},4077:function(t,e,a){"use strict";a("7002")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("app-map"),a("search-bar"),a("dep-and-arr")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"map"}})},c=[],s={data:function(){return{map:void 0}},methods:{loadMap:function(){this.$store.dispatch("loadMap")}},mounted:function(){this.loadMap()}},l=s,u=(a("07cb"),a("2877")),p=Object(u["a"])(l,i,c,!1,null,"6c1dcba8",null),d=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.searchLocation(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search-bar",attrs:{type:"text",placeholder:"Search Airport by country"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("app-options",{attrs:{countryName:t.search}})],1)},h=[],v=(a("ac1f"),a("841c"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.display?a("div",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"display"}],staticClass:"container",on:{click:function(e){t.display=!t.display}}},t._l(t.places,(function(t){return a("app-location",{key:t.id,staticClass:"try",attrs:{location:t}})})),1):t._e()}),m=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",on:{click:function(e){return t.searchLocation(t.location.place_name)}}},[a("div",{staticClass:"location-name"},[t._v(" "+t._s(t.location.place_name)+" ")])])},b=[],_={props:["location"],data:function(){return{code:null}},mounted:function(){},methods:{searchLocation:function(t){this.$store.dispatch("SearchLocaion",t),this.$store.dispatch("storeAirPortCode",this.location)}}},y=_,w=(a("d10a"),Object(u["a"])(y,g,b,!1,null,"6fd09501",null)),C=w.exports,x={components:{appLocation:C},props:["countryName"],data:function(){return{places:void 0,display:!1}},watch:{countryName:function(){this.searchOptions()}},methods:{searchOptions:function(){this.$store.dispatch("locationOptions",this.countryName),this.places=this.$store.getters.getOptionsForPlaces,0!=this.countryName.length?this.display=!0:this.display=!1}}},O=x,j=(a("4077"),Object(u["a"])(O,v,m,!1,null,"22a59179",null)),L=j.exports,$={components:{appOptions:L},data:function(){return{search:null}},methods:{searchLocation:function(){this.$store.dispatch("SearchLocaion",this.search)}}},M=$,A=(a("a08e"),Object(u["a"])(M,f,h,!1,null,"176a2f6e",null)),k=A.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.display?t._e():a("div",{staticClass:"closeButton container",staticStyle:{width:"15%","text-align":"center",bottom:"20px"},on:{click:function(e){t.display=!0}}},[t._v(" Open Departure & Arrival ")]),this.$store.getters.getIataCode&&t.display?a("div",{staticClass:"container"},[a("div",{staticClass:"closeButton",on:{click:function(e){t.display=!t.display}}},[t._v("X")]),a("div",{staticClass:"appArrival"},[a("app-arrival")],1),a("div",{staticClass:"appDeparture"},[a("app-departure")],1)]):t._e()])},S=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"container"},t._l(this.$store.getters.getStoreArrivel,(function(t){return a("arrival-item",{key:t.length,attrs:{flight:t}})})),1)])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",{staticClass:"title"},[t._v("Arrival")])])}],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"container"},[a("h5",[a("b",{staticClass:"tag"},[t._v("Destination")]),t._v(" "),a("br"),t._v(t._s(this.flight.departure.airport)),a("hr"),a("b",{staticClass:"tag"},[t._v("Flight number")]),t._v(" "+t._s(this.flight.flight.number)),a("br"),a("br"),a("b",{staticClass:"tag"},[t._v("Airline")]),t._v(" "+t._s(this.flight.airline.name)),a("br"),a("br"),a("b",{staticClass:"tag"},[t._v("Arrival time")]),t._v(" "+t._s(this.flight.arrival.scheduled)+" ")])])])},I=[],J={props:["flight"]},T=J,N=(a("36cb"),Object(u["a"])(T,E,I,!1,null,"6c6fb327",null)),G=N.exports,B={components:{arrivalItem:G}},H=B,z=(a("297d"),Object(u["a"])(H,D,F,!1,null,"4a7e3696",null)),R=z.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"container"},t._l(this.$store.getters.getStoreDep,(function(t){return a("dep-item",{key:t.length,attrs:{depItem:t}})})),1)])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",{staticClass:"title"},[t._v("Departure")])])}],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"container"},[a("h5",[a("b",{staticClass:"tag"},[t._v("Destination")]),t._v(" "),a("br"),t._v(" "+t._s(t.depItem.arrival.airport)),a("hr"),a("b",{staticClass:"tag"},[t._v("Flight number")]),t._v(t._s(t.depItem.flight.number)),a("br"),a("br"),a("b",{staticClass:"tag"},[t._v("Airline")]),t._v(" "+t._s(t.depItem.airline.name)+" "),a("br"),a("br"),a("b",{staticClass:"tag"},[t._v("Departure time")]),t._v(" "+t._s(t.depItem.departure.scheduled)+" ")])])])},Y=[],Z={props:["depItem"],created:function(){}},q=Z,Q=(a("2d6c"),Object(u["a"])(q,X,Y,!1,null,"540db3c6",null)),V=Q.exports,K={components:{depItem:V},data:function(){return{departures:this.$store.getters.getStoreDep}}},tt=K,et=(a("2c27"),Object(u["a"])(tt,W,U,!1,null,"ad612f5e",null)),at=et.exports,nt={data:function(){return{display:!0,data:this.$store.getters.getIataCode}},components:{appArrival:R,appDeparture:at},watch:{data:function(){return console.log("update"),this.display=!0}}},ot=nt,rt=(a("c1c0"),Object(u["a"])(ot,P,S,!1,null,"4a531d55",null)),it=rt.exports,ct={components:{appMap:d,searchBar:k,depAndArr:it}},st=ct,lt=Object(u["a"])(st,o,r,!1,null,"51e1928f",null),ut=lt.exports,pt=(a("4160"),a("d81d"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),dt=a("2f62"),ft=a("bc3a"),ht=a.n(ft),vt=a("116b"),mt=a.n(vt);n["a"].use(dt["a"]);var gt=new dt["a"].Store({state:{map:void 0,optionForPlaces:void 0,searchedLocation:null,iataCode:null,allDepFlights:null,allArrivFlights:null},mutations:{storeMainMap:function(t,e){t.map=e},storeOptionForPlaces:function(t,e){t.optionForPlaces=e},storeSearchedLocation:function(t,e){t.searchedLocation=e},storeIataCode:function(t,e){t.iataCode=e},storeDep:function(t,e){t.allDepFlights=e},storeArrivel:function(t,e){t.allArrivFlights=e}},actions:{loadMap:function(t){var e=t.commit;window.mapboxgl.accessToken=mt.a,window.navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords);var a=new window.mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[t.coords.longitude,t.coords.latitude],zoom:4});new window.mapboxgl.Marker({color:"red"}).setLngLat([t.coords.longitude,t.coords.latitude]).addTo(a),a.addControl(new window.mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),ht.a.get("/activeFlights").then((function(t){var e=t.data.allflights.data,n=[];e.forEach((function(t){null!=t.live&&n.push(t)})),n.forEach((function(t){new window.mapboxgl.Marker({color:"green"}).setLngLat([t.live.longitude,t.live.latitude]).setPopup(new window.mapboxgl.Popup({offset:25}).setHTML("<div><h3>"+t.airline.name+"</h3><p> Departure: "+t.departure.airport+"</p><p> Arrival: "+t.arrival.airport+"</p><div>")).addTo(a)}))})).catch((function(t){console.log(t)})),e("storeMainMap",a)}))},SearchLocaion:function(t,e){var a=t.commit;ht.a.get("/location",{params:{address:e,limit:1}}).then((function(t){console.log(t);var e=new window.mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[t.data.longtitude,t.data.latitude],zoom:10});(new window.mapboxgl.Marker).setLngLat([t.data.longtitude,t.data.latitude]).addTo(e),e.addControl(new window.mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),a("storeSearchedLocation",t)})).catch((function(t){console.log(t)}))},locationOptions:function(t,e){var a=t.commit;ht.a.get("/location",{params:{address:e,limit:5}}).then((function(t){a("storeOptionForPlaces",t.data.options)})).catch((function(t){console.log(t)}))},storeAirPortCode:function(t,e){return Object(pt["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,ht.a.get("/airportsCode",{params:{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]}}).then((function(t){var e=t.data.airports.response[0].code;n("storeIataCode",e),ht.a.get("/depart",{params:{iataCode:e}}).then((function(t){n("storeDep",t.data.data)})).catch((function(t){console.log(t)})),ht.a.get("/arrival",{params:{iataCode:e}}).then((function(t){n("storeArrivel",t.data.data)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}));case 3:case"end":return a.stop()}}),a)})))()}},getters:{getMainMap:function(t){return t.map},getOptionsForPlaces:function(t){return t.optionForPlaces},getSearchedLocation:function(t){return t.searchedLocation},getIataCode:function(t){return t.iataCode},getStoreDep:function(t){return t.allDepFlights},getStoreArrivel:function(t){return t.allArrivFlights}}});new n["a"]({store:gt,render:function(t){return t(ut)}}).$mount("#app")},7002:function(t,e,a){},"89a9":function(t,e,a){},a08e:function(t,e,a){"use strict";a("04a1")},b0ae:function(t,e,a){},c1c0:function(t,e,a){"use strict";a("b0ae")},c56e:function(t,e,a){},d10a:function(t,e,a){"use strict";a("2ecc")},d5cc:function(t,e,a){}});
//# sourceMappingURL=app.0db56dec.js.map